<!doctype html>
<html>

<link rel = "stylesheet" type = "text/css" href = "textbox.css" />

<!--live chat functionaliy initially based off of Socket IO tutorial -->
<!--https://socket.io/get-started/chat/-->

<head>
    <title>Socket.IO chat</title>
</head>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    $(function () {
        var socket = io();
        $('form').submit(function () {
            if($('#name').val() != "" && $('#ip').val()){
                var use_https = document.getElementById('use_https').checked;
                socket.emit('info update', $('#name').val(),$('#ip').val(), use_https); //emit event with message
                window.location.replace("/");
            }
            return false;
        });
        socket.on('chat message', function (msg) {
            $('#messages').append($('<li>').text(msg));
        });
    });

</script>

<body>
<div class="generic">
	<div class="splash">
		<form action="" style="margin-left: 15%;">
			<b>Name:</b><br> <input id="name" style="font-size: 100%; width: 99%;"><br>
			<b>Server IP:</b> <input id="ip" autocomplete="off" style="font-size: 100%; width: 99%;"><br>
			<b>Use HTTPS</b> <input type="checkbox" name="use-https" id="use_https" style="zoom: 2.5;"><br>
			<div class="center">
			<button style="font-size: 100%;">Send</button>
			</div>
		</form>
	</div>
</div>
</body>

</html>
